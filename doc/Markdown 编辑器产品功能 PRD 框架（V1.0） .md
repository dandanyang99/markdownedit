# Markdown 编辑器产品功能 PRD 框架（V1.0）

# 一、文档基础信息

|项目|内容|
|---|---|
|产品名称|[待命名] Markdown 编辑器（本地优先+轻量协作型）|
|产品定位|面向个人用户（创作者、程序员、学生）及小团队，提供「所见即所得+本地数据可控+轻量协作」的全能 Markdown 编辑工具，兼顾流畅写作体验与多场景交付需求|
|目标用户|1. 个人用户：技术文档写作者、自媒体创作者、学生（论文/笔记）、知识沉淀者；2. 小团队（5-20人）：研发团队、内容团队、项目组（轻量文档协作）|
|产品版本|V1.0（MVP 版本）|
|核心价值|本地数据主权+无缝编辑体验+一体化内容创作+轻量协同能力，解决现有工具「体验割裂、数据绑架、生态分散」痛点|
|适用平台|Windows 10+/macOS 12+/Linux（Ubuntu 20.04+），后续迭代移动端（iOS/Android）|
# 二、核心目标与优先级

## 2.1 核心目标（V1.0）

1. 实现「所见即所得」无缝编辑体验，兼容标准 Markdown 语法及扩展语法，满足基础写作需求

2. 保障本地文件优先，支持标准 .md 格式存储，提供基础文件管理与备份能力

3. 集成核心扩展功能（公式、图表、表格、图片管理），无需依赖第三方工具

4. 提供轻量多端同步（WebDAV）及双人协作能力，验证协作场景可行性

5. 保证跨平台一致性与高性能，启动快、无卡顿，适配不同配置设备

## 2.2 需求优先级定义

|优先级|定义|落地要求|
|---|---|---|
|P0（必须实现）|核心功能，缺失则产品无法使用，影响核心价值交付|V1.0 版本必须上线，无替代方案，需完全验证可用性|
|P1（重要功能）|提升用户体验，解决高频痛点，无则影响使用流畅度|V1.0 优先实现，若时间紧张可简化功能，后续迭代优化|
|P2（优化功能）|丰富产品能力，满足部分场景需求，提升用户粘性|V1.0 暂不实现，纳入 V1.1 迭代计划|
|P3（远期规划）|生态扩展、高级功能，适配未来场景拓展|V2.0 及以后规划，根据用户反馈调整优先级|
# 三、核心功能模块需求

## 3.1 编辑核心模块（P0/P1）

### 3.1.1 编辑模式（P0）

- 支持三种核心模式无缝切换，切换后光标位置、格式保持一致，无闪烁/卡顿：
        

    - 所见即所得模式（默认）：编辑与预览合一，实时渲染格式，无分栏割裂

    - 源码模式：纯文本编辑，显示 Markdown 语法符号，支持语法高亮

    - 分栏预览模式：左侧编辑（源码/所见即所得可选），右侧实时预览，支持拖拽调整分栏比例

- 专注模式（P1）：隐藏工具栏、侧边栏，仅保留编辑区域，支持快捷键触发（Ctrl+/），可自定义专注模式背景色

- 夜间模式（P1）：一键切换明暗主题，文字与背景对比度符合护眼标准，记忆用户偏好设置

### 3.1.2 语法支持（P0/P1）

- 基础语法（P0）：完全兼容 GitHub Flavored Markdown（GFM），包括标题（#）、加粗（**）、斜体（*）、删除线（~~）、引用（>）、列表（有序/无序）、分割线（---）、链接（[文本](url)）、行内代码（`code`）、代码块（```）

- 扩展语法（P0）：表格（支持可视化编辑，拖拽调整行列、合并单元格）、任务列表（- [ ]）、脚注（[^1]）、高亮标注（==文本==）

- 高级语法（P1）：数学公式（LaTeX 语法，实时渲染，支持行内公式 $xxx$ 和块级公式 $$xxx$$）、Mermaid/PlantUML 流程图（实时渲染，支持常见图表类型：流程图、时序图、甘特图、思维导图）

- 语法辅助（P1）：
        

    - 自动补全：括号、引号、列表符号自动补全，链接/图片语法快速提示

    - 语法校验：非法语法（如未闭合的列表、表格）标红提示，鼠标悬浮显示错误原因

    - 快捷键支持：常用格式快捷键（如 Ctrl+B 加粗、Ctrl+I 斜体），可自定义快捷键映射

### 3.1.3 内容操作（P0/P1）

- 基础操作（P0）：撤销/重做（支持无限步数，覆盖重启前操作）、剪切/复制/粘贴（粘贴时可选择「保留格式」或「转为纯文本」）、查找替换（Ctrl+F/Ctrl+H，支持正则匹配、全词匹配）

- 内容排版（P1）：一键格式化（整理列表缩进、表格对齐、代码块格式）、段落调整（缩进、行距自定义）、目录自动生成（基于标题层级，点击目录跳转至对应段落）

- 大纲视图（P1）：侧边栏显示文档大纲，基于标题层级折叠/展开，支持拖拽调整标题顺序，同步修改文档内容

## 3.2 文件管理模块（P0/P1）

### 3.2.1 本地文件操作（P0）

- 文件创建：新建空白 Markdown 文件、新建模板文件（支持自定义模板，如论文模板、技术文档模板）

- 文件打开：支持单个 .md 文件打开、文件夹批量导入（作为工作区），记忆最近打开文件（最多20个），一键重新打开

- 文件保存：自动保存（默认每30秒，可自定义间隔）、手动保存（Ctrl+S），保存为标准 .md 文件，不加密、不封装格式，支持第三方工具打开编辑

- 文件管理：工作区内支持文件/文件夹新建、重命名、删除、剪切/复制/粘贴，支持按名称、修改时间、大小排序，支持文件搜索（模糊匹配文件名）

### 3.2.2 备份与版本管理（P1）

- 本地备份：自动生成文件历史版本（默认保留最近10个版本，可自定义数量），版本按修改时间命名，支持版本对比（显示差异内容）、版本恢复

- 回收站：删除的文件/文件夹移入回收站，保留30天（可自定义保留时长），支持一键恢复、彻底删除，清空回收站需二次确认

### 3.2.3 导出功能（P0/P1）

- 基础导出（P0）：支持导出为 PDF、HTML、Word（.docx）格式，导出时可选择「保留原格式」「简化格式」

- 高级导出（P1）：导出为 ePub（电子书）、图片（.png/.jpg，支持选择导出范围），PDF 导出支持自定义页码、水印、页眉页脚、纸张大小（A4/Letter等）

- 批量导出（P2）：工作区内批量选择文件，统一导出为指定格式，支持按文件夹结构整理导出文件

## 3.3 媒体与扩展模块（P0/P1）

### 3.3.1 图片管理（P0）

- 图片插入：支持拖拽插入、剪贴板粘贴插入、本地文件选择插入，插入后自动生成 Markdown 图片语法

- 图片编辑（P1）：插入后可拖拽调整大小、设置对齐方式（左/中/右）、添加alt文本、替换图片源、删除图片

- 图片存储：默认存储为本地相对路径（与文档同目录，自动创建 img 文件夹），支持自定义存储路径，支持一键上传至图床（P1，集成常用图床：阿里云OSS、腾讯云COS、GitHub图床，支持配置图床参数）

### 3.3.2 图表与附加工具（P1）

- 内置图表编辑器：支持快速插入折线图、柱状图、饼图，通过可视化界面配置数据，自动生成 Mermaid 语法，支持编辑数据实时更新图表

- 简易画板（P2）：支持插入手绘图形、箭头、文本，绘制完成后转为图片插入文档，适合快速标注、流程图补充

- 内容导入（P1）：支持导入 Word、HTML、TXT 文件，自动转为 Markdown 格式，保留核心格式（标题、列表、图片），提示无法转换的内容

## 3.4 同步与协作模块（P1/P2）

### 3.4.1 多端同步（P1）

- 本地优先同步：基于 WebDAV 协议，支持连接第三方云盘（坚果云、NextCloud、自建 WebDAV 服务），同步时优先保留本地文件，冲突文件自动生成副本（标注冲突时间），提示用户手动合并

- 同步设置：支持自定义同步间隔（实时/5分钟/15分钟/手动）、同步范围（单个文件/整个工作区），显示同步状态（同步中/同步完成/同步失败），同步失败提供错误日志

- 私有同步服务（P3）：后续迭代自研云端同步服务，支持端到端加密，付费高级版解锁

### 3.4.2 轻量协作（P1/P2）

- 文档分享（P1）：支持生成分享链接，设置权限（只读/可编辑），链接有效期（永久/24小时/7天），支持撤销分享链接

- 双人实时协作（P1）：同一文档支持2人同时编辑，显示对方光标位置、用户名标识，实时同步编辑内容，无延迟（延迟≤500ms），冲突内容自动协商保留最新版本

- 团队协作（P2）：支持创建团队空间，邀请成员加入，设置团队文件权限（查看/编辑/管理），支持协作评论、@提及、协作历史记录

## 3.5 个性化与扩展模块（P1/P2/P3）

### 3.5.1 主题与样式（P1）

- 内置主题：提供至少5套基础主题（极简、科技、文艺、护眼、深色），支持预览主题效果后切换

- 自定义主题（P2）：支持导入 CSS 样式文件，自定义字体、颜色、行距、边框等样式，支持保存自定义主题

- 字体设置：支持自定义编辑区域字体（系统字体/自定义导入字体）、字体大小，记忆用户偏好

### 3.5.2 插件系统（P2/P3）

- 轻量插件框架（P2）：支持安装第三方插件，插件类型包括：主题插件、导出插件、语法扩展插件、图床插件，插件安装/卸载无需重启软件

- 插件市场（P3）：搭建官方插件市场，提供插件搜索、下载、评分、更新功能，支持开发者提交插件

- 自定义块（P3）：支持通过插件扩展自定义内容块（如提示框、卡片、代码片段库），丰富文档表现形式

### 3.5.3 集成能力（P2/P3）

- Git 集成（P2）：支持关联 Git 仓库，实现文档版本控制、提交、推送、拉取，显示 Git 提交历史

- 第三方工具集成（P3）：集成思维导图工具（XMind、MindMaster）、演示工具（Reveal.js）、任务管理工具（Trello、飞书），支持文档内容一键同步至第三方工具

# 四、交互设计需求（P0/P1）

## 4.1 界面布局

- 整体布局：顶部工具栏（格式工具、模式切换、文件操作）、左侧侧边栏（工作区文件列表/大纲视图，可折叠）、中间编辑区域（核心区域）、右侧预览区（分栏模式显示，可关闭）、底部状态栏（同步状态、字数统计、格式提示）

- 可定制布局：支持隐藏侧边栏、工具栏、状态栏，最大化编辑区域，记忆用户布局偏好

- 响应式适配：支持调整软件窗口大小，编辑区域内容自动适配，表格、图片不溢出窗口

## 4.2 快捷键设计

- 基础快捷键：遵循系统通用习惯，如 Ctrl+N（新建）、Ctrl+O（打开）、Ctrl+S（保存）、Ctrl+Z（撤销）等，确保无冲突

- 格式快捷键：统一常用格式快捷键，如 Ctrl+B（加粗）、Ctrl+I（斜体）、Ctrl+U（下划线）、Ctrl+Shift+T（插入表格）等，支持在设置中自定义修改

- 快捷键提示：工具栏按钮hover时显示对应快捷键，提供快捷键说明文档（帮助菜单中查看）

## 4.3 反馈交互

- 操作反馈：文件保存、同步完成、导出成功等操作，显示轻量提示（持续2秒自动消失，不遮挡编辑区域）；错误操作（如格式错误、同步失败）显示警告提示，提供「查看详情」「重试」按钮

- 加载反馈：文件打开、同步、导出等耗时操作（超过1秒），显示加载动画，提示操作进度（如「导出中 30%」）

- 光标反馈：所见即所得模式下，光标位置与格式对齐，选中内容高亮显示，无光标跳动、格式错乱问题

# 五、非功能需求（P0/P1）

## 5.1 性能需求

- 启动速度（P0）：Windows/macOS 系统启动时间≤3秒，无加载卡顿，大文件（10万字+）打开时间≤5秒

- 编辑性能（P0）：实时渲染无延迟，输入文字、切换格式响应时间≤100ms，无光标闪烁、内容卡顿，同时打开10个以上文档无明显性能下降

- 资源占用（P1）：空闲状态下内存占用≤200MB，CPU占用≤5%；编辑状态下内存占用≤500MB，CPU占用≤15%

## 5.2 兼容性需求

- 系统兼容性（P0）：完美适配 Windows 10/11（32位/64位）、macOS 12+/13+（Intel/M1/M2芯片）、Ubuntu 20.04+/CentOS 8+

- 文件兼容性（P0）：支持打开其他编辑器（Typora、Obsidian、语雀）导出的 .md 文件，格式无错乱；导出的文件可被其他编辑器正常打开

- 格式兼容性（P1）：支持导入/导出时兼容常见扩展语法，确保公式、图表、表格在不同工具间互通

## 5.3 安全需求

- 数据安全（P0）：本地文件不加密、不篡改，用户可自由拷贝、备份；同步时支持端到端加密（可选），敏感信息（如图床密钥、WebDAV 账号）本地存储，不上传至服务器

- 权限安全（P1）：协作文档支持细粒度权限控制，分享链接仅授权用户可访问，支持远程撤销权限；本地文件支持设置只读属性，防止误编辑

## 5.4 可维护性需求

- 日志管理（P1）：自动记录操作日志、错误日志，支持导出日志文件，便于问题排查

- 自动更新（P1）：支持检测新版本，提示用户更新，提供手动检查更新入口，更新过程不丢失用户数据

# 六、商业模式与版本规划

## 6.1 商业模式（V1.0 及后续）

- 基础版（永久免费）：开放核心编辑、本地文件管理、基础导出、WebDAV 同步、双人协作功能，无广告、无功能阉割

- 高级版（付费订阅/买断制）：解锁私有同步服务、团队协作（5人以上）、高级导出、自定义主题、插件市场、Git 集成等功能，订阅制定价（月付/年付），提供买断制选项（终身授权）

- 企业版（定制服务）：提供私有部署、专属客服、定制开发、统一权限管理功能，按企业规模收费

## 6.2 版本迭代规划

|版本|迭代周期|核心目标|关键功能|
|---|---|---|---|
|V1.0（MVP）|6-8周|验证核心体验与需求，上线基础功能|所见即所得编辑、本地文件管理、基础导出、图片管理、LaTeX/Mermaid 支持、WebDAV 同步、双人协作|
|V1.1|4周|优化体验，补充核心功能|高级导出、自定义主题、专注模式优化、同步冲突处理、日志管理|
|V1.2|6周|完善协作与扩展能力|团队协作、插件框架、Git 集成、批量导出|
|V2.0|8-10周|生态拓展，上线高级版功能|插件市场、私有同步服务、企业权限管理、移动端适配|
# 七、风险与应对措施

|风险类型|风险描述|应对措施|
|---|---|---|
|技术风险|所见即所得模式渲染卡顿、格式错乱，跨平台兼容性问题|基于 Tauri 框架开发（轻量、跨平台），选用成熟解析引擎（Remark），提前适配主流系统版本，建立测试用例库|
|市场风险|现有工具（Typora、Obsidian）用户粘性高，新工具获客难|突出差异化卖点（本地优先+轻量协作），上线免费版积累用户，通过开源社区、技术博客、自媒体推广|
|体验风险|功能迭代过快导致体验不稳定，用户反馈处理不及时|建立用户反馈渠道（问卷、社群），每版迭代聚焦核心功能，上线前进行内部测试与小范围灰度测试|
|商业模式风险|免费用户转化为付费用户比例低，收入无法覆盖成本|优化高级版功能价值，提供买断制选项，针对企业用户推出定制服务，拓展收入来源|
# 八、附件与参考

- 附件1：界面原型图（文字描述版）：对应《[待命名]Markdown编辑器V1.0 界面原型说明文档》，明确整体视觉规范（色彩、尺寸、形状）、五大核心区域（顶部工具栏、左侧侧边栏、中间编辑区域、右侧预览区、底部状态栏）布局细节、弹窗与提示样式及响应式适配规则，为设计与开发提供统一视觉与交互标准。

- 附件2：快捷键对照表（待整理）：包含基础操作、格式设置、模式切换等所有快捷键，明确默认按键、可自定义配置规则，附使用场景说明。

- 附件3：Markdown 语法兼容清单（待整理）：详细罗列基础语法、扩展语法、高级语法的支持范围，标注兼容标准（GFM）及与主流编辑器（Typora、Obsidian）的差异点。

- 参考文档：GitHub Flavored Markdown 官方文档、Tauri 开发手册、Obsidian 产品分析报告、《[待命名]Markdown编辑器V1.0 界面原型说明文档》。
> （注：文档部分内容可能由 AI 生成）